import React from "react"
import { graphql } from "gatsby"
import Layout from "../components/Layout"
import Newsletter from "../components/Newsletter"
import PageTitle from "../components/PageTitle"
import Wrapper from "../components/Wrapper"
import styled from "styled-components"
import Img from "gatsby-image"
import Thumbnails from "../components/references/Thumbnails"
import SubmitReference from "../components/references/SubmitReference"
import { Helmet } from "react-helmet"

const HeroReferenceContainer = styled.div`
  margin-top: 100px;
  display: flex;
  @media screen and (max-width: 768px) {
    flex-direction: column;
  }
  .copy {
    flex: 1;
    margin: 0 30px 0 0;
    @media screen and (max-width: 768px) {
      order: 2;
      margin: 30px 0 0 0;
    }
    h2 {
      font-size: 3rem;
      position: relative;
      span {
        position: relative;
        z-index: 2;
      }
      svg {
        position: absolute;
        left: 0;
        top: 70%;
      }
    }
    p {
      margin-top: 30px;
    }
  }
  .image {
    flex: 1;
    .gatsby-image-wrapper {
      width: 100%;
      height: 100%;
    }
  }
`

const Subtitle = styled.h2`
  font-size: 3rem;
  position: relative;
  margin-bottom: -50px;
  span {
    position: relative;
    z-index: 2;
  }
  svg {
    position: absolute;
    left: 0;
    top: 80%;
  }
`

const References = ({ data: { hero, ptReference, reference } }) => {
  return (
    <Layout>
      <Helmet>
        <title>References | SweatSearch</title>
      </Helmet>
      <Wrapper>
        <PageTitle>References</PageTitle>
        <HeroReferenceContainer>
          <div className="copy">
            <h2>
              <span>{hero.edges[0].node.title}</span>
              <svg width="145.068" height="14.953" viewBox="0 0 145.068 14.953">
                <path
                  id="Path_66"
                  data-name="Path 66"
                  d="M803.12,3527.8c-.433-.4-1.212.526-1.455-.817-.1.086-.195.231-.3.243-.232.029-.562.137-.684-.047-1.135-1.684-2.512-.974-3.826-.9a.209.209,0,0,0-.166.11c-.309.648-.306.632-.889.6-.716-.044-1.434-.044-2.149-.087-.058,0-.107-.243-.16-.368l.408-.334a1.993,1.993,0,0,0-.536-.047c-.344.051-.782-.566-1.024.33-.011.035-.221-.021-.33-.072a3.858,3.858,0,0,0-1.067-.514c-3.234-.31-6.469-.577-9.7-.852-2.621-.224-5.24-.465-7.861-.665-2.062-.151-4.126-.262-6.19-.38-1.386-.079-2.81-.468-4.145-.091a6.109,6.109,0,0,1-2.674-.115c-.954-.128-1.9-.412-2.854-.505-.3-.029-.618.344-.928.537a1.687,1.687,0,0,0,.12.361,1.707,1.707,0,0,0,.261.291.813.813,0,0,1-.268.122c-.422.016-.847.026-1.27.012-.107,0-.211-.126-.317-.194a2.4,2.4,0,0,1,.3-.243.8.8,0,0,1,.281-.058c-.1-.054-.2-.151-.3-.155-1.568-.051-3.135-.09-4.7-.128-.163,0-.36.1-.486,0-.918-.742-1.844-.068-2.765-.019a.7.7,0,0,0-.557.252c-.756,1.2-1.658,1-2.585.772a1.878,1.878,0,0,0-.777.052c-.377.07-.9.836-.932-.573,0-.157-.756-.4-1.157-.377-1.159.07-2.317.239-3.473.4-.288.039-.746.074-.823.322-.391,1.253-1.009.82-1.609.687a2.5,2.5,0,0,0-.781-.106c-1.106.118-2.209.312-3.316.405-1.328.114-2.7.5-3.973.13-1.121-.326-2.056.518-3.1.392a16.6,16.6,0,0,0-2.566.1c-.312.012-.493-.109-.13-.53a.476.476,0,0,0,.02-.306c-.225-.252-1.388.483-1.669.679a4.234,4.234,0,0,1-1.767.746c-.924.134-1.861.016-2.789.094-2.552.213-5.1.515-7.652.7-2.184.156-4.373.149-6.557.322-.9.07-1.788.543-2.688.633-3.147.306-6.3.552-9.447.769-2.893.2-5.789.321-8.683.5-1.429.087-1.833-.306-2.085-2.222a1.342,1.342,0,0,1,.285-.794c.221-.283.525-.417.753-.692s.591-.788.547-.91a2.954,2.954,0,0,0-.757-1.257,12.029,12.029,0,0,0-1.4-.692c-.441-.275-.9-.644-.314-1.491a.914.914,0,0,0,.167-.514c-.167-1.677.576-1.567,1.3-1.594,2.759-.105,5.517-.24,8.276-.366,3.021-.132,6.043-.216,9.063-.427,2.1-.149,4.2-.537,6.3-.7,1.133-.091,2.273.14,3.406.074.9-.052,1.8-.475,2.7-.488,2.141-.04,4.256-.542,6.383-.749,1.9-.192,3.811.1,5.713-.016a28.787,28.787,0,0,0,3.886-.766c.293-.059.631-.236.877-.09,1.238.737,2.428.259,3.655-.125a5.377,5.377,0,0,1,1.916.085c.033,0,.071.032.1.015,1.336-.895,2.711.134,3.976-.122,3.221-.652,6.422.236,9.619-.33a8.731,8.731,0,0,0,1.059-.329c.224-.066.527-.293.661-.157,1.057,1.1,2.081-.14,3.115-.074.966.062,1.93.213,2.9.209,1.958,0,3.917-.114,5.876-.11.9,0,1.8.279,2.694.258,1.2-.027,2.4-.231,3.6-.325.275-.024.683-.683.822.287.011.078.266.178.34.106.675-.652,1.328-.106,2-.025.846.1,1.7,0,2.552.075,1.521.141,3.037.4,4.559.519.871.065,1.751-.106,2.624-.06,1.111.063,2.215.3,3.326.357,1.131.059,2.268-.086,3.4-.012,2.89.188,5.779.44,8.668.679,2.919.244,5.841.452,8.757.762,3.768.4,7.542.75,11.292,1.39a39.574,39.574,0,0,1,6.458,1.963,3.68,3.68,0,0,1,2.166,3.082c.153,1-.357,2.1.479,3.055.366.419-.19,1.323-.8,1.1-.628-.237-.6-.225-.841.671-.044.165-.381.276-.56.225a31.671,31.671,0,0,0-3.353-.955c-1.55-.235-3.118-.228-4.677-.349-.8-.062-1.594-.181-2.389-.293-.042-.009-.086-.225-.1-.35-.1-1-.589-.99-1.044-.79a5.985,5.985,0,0,1-4.981.181c-.188-.082-.419.05-.63.087a3.113,3.113,0,0,0,.5.425,10.277,10.277,0,0,0,.959.407Zm-50.024-9.628-.941.291a4.3,4.3,0,0,1,.693.341c.139.1.224.365.361.475.221.177.519.5.69.392.953-.576,1.815-.121,2.733.206.826.294,1.694-.5,2.577-.087.113.051.395-.7.6-1.075a6.093,6.093,0,0,0-.579-.539c-.172-.125-.411-.1-.544-.275-.489-.636-1-.487-1.57-.29C755.763,3518.077,754.459,3519.432,753.1,3518.175Zm10.835.2c-.139.166-.373.31-.4.523a.921.921,0,0,0,.249.679,1.931,1.931,0,0,0,1.228.318c1.76-.518,3.455.224,5.178.388a2.441,2.441,0,0,0,.735-.157c-.227-.487-.42-1.331-.689-1.391a7.826,7.826,0,0,0-2.024.169,20.2,20.2,0,0,1-2.81.064A5.432,5.432,0,0,1,763.931,3518.371Zm-20.583,1.556,0,.114c.324-.062.679-.291.965-.165.928.411.23-1.009.615-1.162a2.73,2.73,0,0,0-.562-.248,2.914,2.914,0,0,0-.976-.086,12.143,12.143,0,0,0-2.023.487c-.145.051-.233.5-.348.764.156.11.309.306.466.314C742.108,3519.971,742.729,3519.938,743.348,3519.927Zm-9.325-.291c.181.256.275.495.409.566,1.373.723,2.756.334,4.134-.055.095-.028.154-.358.23-.55-.14-.105-.291-.329-.419-.3a4.034,4.034,0,0,1-3.029-.14C735.016,3518.973,734.528,3519.432,734.022,3519.635Zm14.613.358,0-.13a5.43,5.43,0,0,0,1.066-.043c.191-.044.362-.3.542-.464a3.577,3.577,0,0,0-.486-.542c-1.182-.864-2.349.409-3.535.153-.13-.028-.3.337-.451.523.153.105.3.29.46.305C747.034,3519.887,747.835,3519.936,748.635,3519.994Zm33.51.495c.32.263.45.458.584.463q1.954.088,3.911.1c.081,0,.165-.258.247-.4-.132-.157-.258-.44-.4-.452-1.186-.118-2.373-.211-3.562-.248C782.724,3519.942,782.512,3520.225,782.145,3520.489Zm-69.979,1.5.044.161.632-.389c-.321-.333-.632-.934-.962-.95a2.512,2.512,0,0,0-2.269.832,3.054,3.054,0,0,0-.254.432c.132.094.267.28.394.263C710.556,3522.248,711.36,3522.11,712.165,3521.988Z"
                  transform="translate(-677.189 -3514.931)"
                  fill="#68db7e"
                />
              </svg>
            </h2>
            <div
              dangerouslySetInnerHTML={{ __html: hero.edges[0].node.content }}
            />
          </div>
          <div className="image">
            <Img
              fluid={
                hero.edges[0].node.refImage.image.localFile.childImageSharp
                  .fluid
              }
              alt={hero.edges[0].node.title}
            />
          </div>
        </HeroReferenceContainer>
        <Thumbnails data={reference} />
        <Subtitle>
          <span>PT References</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="208.402"
            height="11.249"
            viewBox="0 0 208.402 11.249"
          >
            <path
              id="Path_149"
              data-name="Path 149"
              d="M858.1,3524.615c-.621-.3-1.741.4-2.09-.614a1.363,1.363,0,0,1-.426.183c-.333.021-.807.1-.983-.035-1.631-1.267-3.608-.732-5.5-.677a.381.381,0,0,0-.238.083c-.444.487-.439.476-1.277.449-1.029-.033-2.06-.033-3.087-.065-.083,0-.154-.183-.23-.277l.586-.251a5.376,5.376,0,0,0-.771-.035c-.494.038-1.124-.426-1.471.248a1.5,1.5,0,0,1-.474-.054,8.442,8.442,0,0,0-1.533-.387c-4.646-.233-9.293-.435-13.941-.641-3.765-.169-7.528-.35-11.293-.5-2.962-.114-5.928-.2-8.893-.286a34.637,34.637,0,0,0-5.955-.068,16.547,16.547,0,0,1-3.841-.086c-1.37-.1-2.728-.31-4.1-.38a4.181,4.181,0,0,0-1.333.4.951.951,0,0,0,.172.271,2.171,2.171,0,0,0,.375.219,1.809,1.809,0,0,1-.385.092c-.607.012-1.217.02-1.824.009a1.662,1.662,0,0,1-.455-.146,3.955,3.955,0,0,1,.436-.183,2.091,2.091,0,0,1,.4-.044,1.761,1.761,0,0,0-.426-.116q-3.378-.057-6.757-.1a2.186,2.186,0,0,1-.7,0c-1.319-.559-2.65-.051-3.971-.015a1.513,1.513,0,0,0-.8.189c-1.086.9-2.382.752-3.713.581a5.053,5.053,0,0,0-1.117.039c-.541.053-1.3.629-1.339-.432a3.919,3.919,0,0,0-1.662-.283c-1.665.053-3.328.18-4.989.3-.413.029-1.072.056-1.182.242-.561.942-1.45.617-2.311.517a6.689,6.689,0,0,0-1.122-.08c-1.589.089-3.173.234-4.764.3a29.76,29.76,0,0,1-5.707.1c-1.61-.245-2.954.39-4.457.295-1.217-.079-2.456.057-3.686.077-.448.009-.708-.082-.187-.4.056-.035.072-.207.029-.23-.323-.189-1.994.363-2.4.511a9.68,9.68,0,0,1-2.539.562c-1.327.1-2.674.012-4.007.07-3.666.16-7.327.388-10.993.526-3.138.118-6.282.112-9.42.242-1.293.053-2.569.408-3.862.476q-6.781.346-13.572.579c-4.156.15-8.316.241-12.474.372-2.052.065-2.634-.23-3-1.672-.043-.174.2-.458.409-.6.317-.213.754-.313,1.082-.521s.85-.593.787-.685a2.609,2.609,0,0,0-1.088-.945c-.61-.26-1.359-.308-2.008-.521-.633-.207-1.29-.484-.451-1.122.126-.094.263-.269.24-.387-.24-1.262.827-1.179,1.87-1.2,3.963-.079,7.926-.181,11.888-.275,4.34-.1,8.682-.162,13.019-.321,3.022-.112,6.034-.4,9.054-.528,1.628-.068,3.265.105,4.893.056,1.3-.039,2.585-.357,3.878-.367,3.076-.029,6.114-.407,9.17-.563,2.726-.145,5.474.077,8.207-.012,1.866-.059,3.722-.379,5.583-.576a3.549,3.549,0,0,1,1.26-.067,11.049,11.049,0,0,0,5.25-.095,14.659,14.659,0,0,1,2.753.064c.047,0,.1.024.139.012,1.919-.673,3.894.1,5.712-.092,4.627-.49,9.226.178,13.819-.248.511-.047,1.013-.165,1.521-.248.321-.05.758-.221.95-.118,1.518.824,2.99-.105,4.475-.056,1.388.047,2.773.16,4.161.157,2.813,0,5.628-.086,8.441-.083,1.29,0,2.579.21,3.87.194,1.724-.021,3.446-.174,5.171-.245.395-.018.982-.514,1.181.216a.666.666,0,0,0,.488.08c.97-.49,1.907-.08,2.868-.019,1.216.077,2.447,0,3.666.057,2.186.106,4.363.3,6.549.391,1.251.049,2.516-.08,3.769-.045,1.6.047,3.182.228,4.778.269,1.625.044,3.258-.064,4.881-.009,4.152.142,8.3.331,12.452.511,4.194.184,8.391.34,12.58.573,5.412.3,10.835.564,16.222,1.046,3.127.28,6.209.9,9.278,1.477a3.748,3.748,0,0,1,3.112,2.318c.22.754-.512,1.578.688,2.3.525.315-.273,1-1.144.824-.9-.178-.868-.169-1.208.5-.063.124-.547.207-.8.169-1.61-.226-3.2-.592-4.817-.719-2.227-.177-4.479-.171-6.718-.263-1.147-.047-2.289-.136-3.432-.221-.06-.007-.123-.169-.142-.264-.144-.753-.847-.744-1.5-.594a15.853,15.853,0,0,1-7.155.136,3.189,3.189,0,0,0-.9.065,4.886,4.886,0,0,0,.713.319c.449.127.917.206,1.378.307Zm-71.863-7.243-1.352.219a9.41,9.41,0,0,1,1,.257c.2.077.322.274.518.357.317.133.745.372.992.295a7.691,7.691,0,0,1,3.926.154c1.187.222,2.434-.375,3.7-.065.162.038.567-.525.858-.809a9.1,9.1,0,0,0-.831-.405c-.247-.094-.59-.077-.782-.207a2.812,2.812,0,0,0-2.255-.218C790.066,3517.3,788.193,3518.317,786.235,3517.372Zm15.566.147c-.2.125-.535.233-.581.394s.174.466.357.511a4.852,4.852,0,0,0,1.764.239c2.529-.39,4.963.168,7.439.292a6.322,6.322,0,0,0,1.056-.118c-.326-.366-.6-1-.99-1.046a21.222,21.222,0,0,0-2.908.127c-1.345.045-2.7.1-4.036.048A12.669,12.669,0,0,1,801.8,3517.519Zm-29.57,1.17.006.086a4.763,4.763,0,0,1,1.386-.124c1.333.31.33-.759.884-.874a6.232,6.232,0,0,0-.808-.187,7.865,7.865,0,0,0-1.4-.064c-.975.082-1.951.194-2.906.366-.208.038-.334.375-.5.575a2.3,2.3,0,0,0,.67.236C770.45,3518.722,771.342,3518.7,772.231,3518.689Zm-13.4-.219c.26.192.395.372.587.426a14.224,14.224,0,0,0,5.939-.041c.136-.021.221-.27.33-.414-.2-.079-.418-.248-.6-.228a10.752,10.752,0,0,1-4.352-.105C760.262,3517.971,759.561,3518.317,758.834,3518.47Zm20.992.27,0-.1a14.79,14.79,0,0,0,1.532-.032,2.811,2.811,0,0,0,.778-.349,4.562,4.562,0,0,0-.7-.408c-1.7-.649-3.374.308-5.078.115-.187-.021-.431.254-.647.394a2.478,2.478,0,0,0,.66.229C777.526,3518.66,778.677,3518.7,779.827,3518.74Zm48.139.372a3.315,3.315,0,0,0,.84.349q2.807.066,5.619.073c.116,0,.237-.194.354-.3-.189-.118-.37-.331-.57-.34-1.7-.089-3.409-.159-5.117-.187A4.118,4.118,0,0,0,827.966,3519.112Zm-100.531,1.128.063.121.909-.292c-.461-.251-.909-.7-1.382-.715a5.79,5.79,0,0,0-3.259.626,2.63,2.63,0,0,0-.365.325,1.587,1.587,0,0,0,.566.2C725.123,3520.435,726.278,3520.332,727.435,3520.24Z"
              transform="translate(-677.189 -3514.931)"
              fill="#68db7e"
            />
          </svg>
        </Subtitle>
        <Thumbnails data={ptReference} title="PT Reference" />
      </Wrapper>
      <SubmitReference />
      <Newsletter />
    </Layout>
  )
}

export default References

export const systemQuery = graphql`
  query References {
    hero: allWpReference(
      filter: { references: { heroReference: { eq: true } } }
      limit: 1
    ) {
      edges {
        node {
          title
          slug
          id
          content
          references {
            fieldGroupName
            heroReference
            ptReference
          }
          refImage {
            image {
              localFile {
                childImageSharp {
                  fluid(maxWidth: 1200, quality: 90) {
                    ...GatsbyImageSharpFluid_withWebp
                  }
                }
              }
            }
          }
        }
      }
    }
    reference: allWpReference(
      filter: {
        references: { heroReference: { ne: true }, ptReference: { ne: true } }
      }
    ) {
      edges {
        node {
          title
          slug
          id
          content
          refImage {
            image {
              localFile {
                childImageSharp {
                  fluid(maxWidth: 1200, quality: 90) {
                    ...GatsbyImageSharpFluid_withWebp
                  }
                }
              }
            }
          }
        }
      }
    }
    ptReference: allWpReference(
      filter: {
        references: { heroReference: { ne: true }, ptReference: { eq: true } }
      }
    ) {
      edges {
        node {
          title
          slug
          id
          content
          references {
            fieldGroupName
            heroReference
            ptReference
          }
          refImage {
            image {
              localFile {
                childImageSharp {
                  fluid(maxWidth: 1200, quality: 90) {
                    ...GatsbyImageSharpFluid_withWebp
                  }
                }
              }
            }
          }
        }
      }
    }
  }
`
